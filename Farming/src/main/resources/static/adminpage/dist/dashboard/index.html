<!DOCTYPE html>
<html lang="en">
  <!-- [Head] start -->

  <head>
    <title>Admin</title>
    <!-- [Meta] -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Datta able is trending dashboard template made using Bootstrap 5 design framework. Datta able is available in Bootstrap, React, CodeIgniter, Angular,  and .net Technologies.">
    <meta name="keywords" content="Bootstrap admin template, Dashboard UI Kit, Dashboard Template, Backend Panel, react dashboard, angular dashboard">
    <meta name="author" content="Codedthemes">
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
	
    <!-- [Favicon] icon -->
	<link rel="icon" href="images/favicon.svg" type="image/x-icon"> <!-- [Font] Family -->
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
	<!-- [Tabler Icons] https://tablericons.com -->
	<link rel="stylesheet" href="fonts/tabler-icons.min.css" >
	<!-- [Feather Icons] https://feathericons.com -->
	<link rel="stylesheet" href="fonts/feather.css" >
	<!-- [Font Awesome Icons] https://fontawesome.com/icons -->
	<link rel="stylesheet" href="fonts/fontawesome.css" >
	<!-- [Material Icons] https://fonts.google.com/icons -->
	<link rel="stylesheet" href="fonts/material.css" >
	<!-- [Template CSS Files] -->
	<link rel="stylesheet" href="css/style.css" id="main-style-link" >
	<link rel="stylesheet" href="css/style-preset.css" >
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-14K1GBX9FG"></script> 
	<style>
		
		  .chart-container {
            display: flex;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            font-family: Arial, sans-serif;
        }

        #yAxis {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 50px;
            margin-right: 10px;
            height: 400px;
        }

        .y-axis-label {
            text-align: right;
            font-size: 12px;
            color: #666;
        }

        .chart {
            flex-grow: 1;
            position: relative;
        }

        #barsContainer {
            display: flex;
            height: 400px;
            border-bottom: 1px solid #ccc;
            border-left: 1px solid #ccc;
            gap: 40px;
            padding-top: 20px;
        }

        .month-group {
            display: flex;
            gap: 4px;
            align-items: flex-end;
        }

        .bar-wrapper {
            width: 20px;
            position: relative;
        }

        .bar {
            width: 100%;
            transition: height 0.3s ease;
            border-radius: 2px 2px 0 0;
        }

        .month-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #666;
        }

        #legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 40px;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .color-box {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }

        #tooltips {
		  position: absolute;
		  display: none;
		  background-color: rgba(0, 0, 0, 0.8);
		  color: #fff;
		  padding: 6px 10px;
		  font-size: 13px;
		  border-radius: 4px;
		  pointer-events: none;
		  white-space: nowrap;
		  z-index: 99999;
		}

        .table td input {
            border: none; 
        }
        .content{
        display:none
        }
	</style>
	
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'G-14K1GBX9FG');
</script>
<!-- WiserNotify -->
<script>
  !(function () {
    if (window.t4hto4) console.log('WiserNotify pixel installed multiple time in this page');
    else {
      window.t4hto4 = !0;
      var t = document,
        e = window,
        n = function () {
          var e = t.createElement('script');
          (e.type = 'text/javascript'),
            (e.async = !0),
            (e.src = 'https://pt.wisernotify.com/pixel.js?ti=1jclj6jkfc4hhry'),
            document.body.appendChild(e);
        };
      'complete' === t.readyState ? n() : window.attachEvent ? e.attachEvent('onload', n) : e.addEventListener('load', n, !1);
    }
  })();
</script>
<!-- Microsoft clarity -->
<script type="text/javascript">
  (function (c, l, a, r, i, t, y) {
    c[a] =
      c[a] ||
      function () {
        (c[a].q = c[a].q || []).push(arguments);
      };
    t = l.createElement(r);
    t.async = 1;
    t.src = 'https://www.clarity.ms/tag/' + i;
    y = l.getElementsByTagName(r)[0];
    y.parentNode.insertBefore(t, y);
  })(window, document, 'clarity', 'script', 'gkn6wuhrtb');
</script>

  </head>
  <!-- [Head] end -->
  <!-- [Body] Start -->

  <body data-pc-preset="preset-1" data-pc-sidebar-caption="true" data-pc-direction="ltr" data-pc-theme="light">
    <!-- [ Pre-loader ] start -->
 <div class="content">
<div class="loader-bg">
  <div class="loader-track">
    <div class="loader-fill"></div>
  </div>
</div>
<!-- [ Pre-loader ] End -->
 <!-- [ Sidebar Menu ] start -->
<nav class="pc-sidebar">
  <div class="navbar-wrapper"><br><br>
    <div class="m-header">
      <a href="Admin" class=" ">
        <!-- ========   Change your logo from here   ============ -->
       <img src="images/logo.png" class="img-fluid" alt="logo">
      </a>
    </div><br><br>
    <div class="navbar-content">
      <ul class="pc-navbar">
        <li class="pc-item pc-caption">
          <label>Navigation</label>
        </li>
        <li class="pc-item">
          <a href="dashboard" class="pc-link">
            <span class="pc-micon">
              <i data-feather="home"></i>
            </span>
            <span class="pc-mtext">Dashboard</span>
          </a>
        </li>
        <li class="pc-item pc-caption">
          <label>Pages</label>
          <i data-feather="monitor"></i>
        </li> 
        <li class="pc-item">
          <a href="login" class="pc-link">
            <span class="pc-micon"><i data-feather="lock"></i></span>
            <span class="pc-mtext">Login</span>
          </a>
        </li>
        <li class="pc-item">
          <a href="register" class="pc-link">
            <span class="pc-micon"><i data-feather="user-plus"></i></span>
            <span class="pc-mtext">Register</span>
          </a>
        </li>
        <li class="pc-item pc-link" style="cursor:pointer" id="LoggedUsers" data-bs-toggle="modal" data-bs-target="#UserStatusModal"> 
            <span class="pc-micon"><i data-feather="user"></i></span>
            <span class="pc-mtext" >Users Status</span>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- [ Sidebar Menu ] end --> <!-- [ Header Topbar ] start -->
<header class="pc-header">
  <div class="header-wrapper"> <!-- [Mobile Media Block] start -->
<div class="me-auto pc-mob-drp">
  <ul class="list-unstyled">
    <!-- ======= Menu collapse Icon ===== -->
    <li class="pc-h-item pc-sidebar-collapse">
      <a href="#" class="pc-head-link ms-0" id="sidebar-hide">
        <i data-feather="menu"></i>
      </a>
    </li>
    <li class="pc-h-item pc-sidebar-popup">
      <a href="#" class="pc-head-link ms-0" id="mobile-collapse">
        <i data-feather="menu"></i>
      </a>
    </li>
    <li class="dropdown pc-h-item">
     <img src="images/Farminglogo.png" style="display:none;border-radius:50%" width="10%" alt="logo" id="logomenu">
    </li>
  </ul>
</div>
<!-- [Mobile Media Block end] -->
<div class="ms-auto">
  <ul class="list-unstyled">
    <li class="dropdown pc-h-item">
      <a
        class="pc-head-link dropdown-toggle arrow-none me-0"
        data-bs-toggle="dropdown"
        href="#"
        role="button"
        aria-haspopup="false"
        aria-expanded="false"
      >
        <i data-feather="bell"></i>
        <span class="badge bg-success pc-h-badge">3</span>
      </a>
      <div class="dropdown-menu dropdown-notification dropdown-menu-end pc-h-dropdown">
        <div class="dropdown-header d-flex align-items-center justify-content-between">
          <h5 class="m-0">Notifications</h5>
          <a href="#!" class="btn btn-link btn-sm">Mark all read</a>
        </div>
        <div class="dropdown-body text-wrap header-notification-scroll position-relative" style="max-height: calc(100vh - 215px)">
          <p class="text-span">Today</p>
          <div class="card mb-0">
            <div class="card-body">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img class="img-radius avtar rounded-0" src="images/user/avatar-1.jpg" alt="Generic placeholder image">
                </div>
                <div class="flex-grow-1 ms-3">
                  <span class="float-end text-sm text-muted">2 min ago</span>
                  <h5 class="text-body mb-2">UI/UX Design</h5>
                  <p class="mb-0"
                    >Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of
                    type and scrambled it to make a type</p
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-0">
            <div class="card-body">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img class="img-radius avtar rounded-0" src="images/user/avatar-2.jpg" alt="Generic placeholder image">
                </div>
                <div class="flex-grow-1 ms-3">
                  <span class="float-end text-sm text-muted">1 hour ago</span>
                  <h5 class="text-body mb-2">Message</h5>
                  <p class="mb-0">Lorem Ipsum has been the industry's standard dummy text ever since the 1500.</p>
                </div>
              </div>
            </div>
          </div>
          <p class="text-span">Yesterday</p>
          <div class="card mb-0">
            <div class="card-body">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img class="img-radius avtar rounded-0" src="images/user/avatar-3.jpg" alt="Generic placeholder image">
                </div>
                <div class="flex-grow-1 ms-3">
                  <span class="float-end text-sm text-muted">2 hour ago</span>
                  <h5 class="text-body mb-2">Forms</h5>
                  <p class="mb-0"
                    >Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of
                    type and scrambled it to make a type</p>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-0">
            <div class="card-body">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img class="img-radius avtar rounded-0" src="images/user/avatar-4.jpg" alt="Generic placeholder image">
                </div>
                <div class="flex-grow-1 ms-3">
                  <span class="float-end text-sm text-muted">12 hour ago</span>
                  <h5 class="text-body mb-2">Challenge invitation</h5>
                  <p class="mb-2"><span class="text-dark">Jonny aber</span> invites to join the challenge</p>
                  <button class="btn btn-sm btn-outline-secondary me-2">Decline</button>
                  <button class="btn btn-sm btn-primary">Accept</button>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-0">
            <div class="card-body">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img class="img-radius avtar rounded-0" src="images/user/avatar-5.jpg" alt="Generic placeholder image">
                </div>
                <div class="flex-grow-1 ms-3">
                  <span class="float-end text-sm text-muted">5 hour ago</span>
                  <h5 class="text-body mb-2">Security</h5>
                  <p class="mb-0"
                    >Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of
                    type and scrambled it to make a type</p
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center py-2">
          <a href="#!" class="link-danger">Clear all Notifications</a>
        </div>
      </div>
    </li>
    <li class="dropdown pc-h-item header-user-profile">
      <a
        class="pc-head-link dropdown-toggle arrow-none me-0"
        data-bs-toggle="dropdown"
        href="#"
        role="button"
        aria-haspopup="false"
        data-bs-auto-close="outside"
        aria-expanded="false"
      >
        <i data-feather="user"></i>
      </a>
      <div class="dropdown-menu dropdown-user-profile dropdown-menu-end pc-h-dropdown p-0 overflow-hidden">
        <div class="dropdown-header d-flex align-items-center justify-content-between bg-primary">
          <div class="d-flex my-2">
            <div class="flex-shrink-0">
              <img src="images/user/avatar-2.jpg" alt="user-image" class="user-avtar wid-35" />
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="text-white mb-1">Admin</h6>
              <span class="text-white text-opacity-75">admin@gmail.com</span>
            </div>
          </div>
        </div>
        <div class="dropdown-body">
          <div class="profile-notification-scroll position-relative" style="max-height: calc(100vh - 225px)">
            <a href="#" class="dropdown-item">
              <span>
                <svg class="pc-icon text-muted me-2">
                  <use xlink:href="#custom-setting-outline"></use>
                </svg>
                <span>Settings</span>
              </span>
            </a>
            <a href="#" class="dropdown-item">
              <span>
                <svg class="pc-icon text-muted me-2">
                  <use xlink:href="#custom-lock-outline"></use>
                </svg>
                <span id="changepassword"  data-bs-toggle="modal" data-bs-target="#exampleModal" >Change Password</span>
              </span>
            </a>
            <a class="d-grid my-2" href='login'>
              <button class="btn btn-primary">
                <svg class="pc-icon me-2">
                  <use xlink:href="#custom-logout-1-outline"></use></svg
                >Logout
              </button>
            </a>
          </div>
        </div>
      </div>
    </li>
  </ul>
</div>
 </div>
</header>
<!-- [ Header ] end -->



    <!-- [ Main Content ] start -->
  
    <div class="pc-container">
      <div class="pc-content">
        <!-- [ breadcrumb ] start -->
        <div class="page-header">
          <div class="page-block">
            <div class="row align-items-center">
              <div class="col-md-12">
                <div class="page-header-title">
                  <h5 class="mb-0">Home</h5>
                </div>
              </div>
              <div class="col-md-12">
                <ul class="breadcrumb mb-0">
                  <li class="breadcrumb-item"><a href="Admin">Home</a></li>
                  <li class="breadcrumb-item"><a href="javascript: void(0)">Dashboard</a></li>
                  <li class="breadcrumb-item" aria-current="page">Home</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- [ breadcrumb ] end -->
        <!-- [ Main Content ] start -->
        <div class="row">
          <!-- [ daily sales section ] start -->
          <div class="col-md-6 col-xl-4">
              <div class="card">
                  <div class="card-body" style="overflow:auto;height:37vh">
                      <h6 class="mb-4">Today Loadings</h6>
                      <div class="row d-flex align-items-center">
                          <div class="col-9"> 
                             <h3 class="f-w-300 d-flex align-items-center m-b-0 totaltodaybags">$249.95</h3>
                          </div>

                          <div class="col-3 text-end">
                              <p class="m-b-0" id="todayper">0%</p>
                          </div>
                      </div>
                      <div class="progress m-t-30" style="height: 15px;" id="totaltodaybagsBar">
                       
                       </div>
                  </div>
              </div>
          </div>
          <!-- [ daily sales section ] end -->

          <!-- [ Monthly  sales section ] start -->
          <div class="col-md-6 col-xl-4">
              <div class="card">
                  <div class="card-body" style="overflow:auto;height:37vh">
                      <h6 class="mb-4">Remaining Stock Details</h6>
                      <div class="row d-flex align-items-center">
                          <div class="col-9">
                              <h3 class="f-w-300 d-flex align-items-center  m-b-0 remainingStockbags">$2.942.32</h3>
                          </div>
                         <!--  <div class="col-3 text-end">
                              <p class="m-b-0 remainingStockper">36%</p>
                          </div> -->
                      </div>
                      <div class="progress m-t-30" style="height: 15px;" id="remainingStockbar">
                         <!--  <div class="progress-bar bg-brand-color-2" role="progressbar" style="width: 35%;" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                      	 -->
                      </div>
                  </div>
              </div>
          </div>
          <!-- [ Monthly  sales section ] end -->

          <!-- [ year  sales section ] start -->
          <div class="col-md-12 col-xl-4">
              <div class="card">
                  <div class="card-body" style="overflow:auto;height:37vh">
                      <canvas id="myChart" style="width:100%;max-width:600px;"></canvas>
                      <div id="chart-legend" style="margin-top: 20px; font-family: Arial, sans-serif;"></div>
                  </div>
              </div>
          </div>
          <!-- [ year  sales section ] end -->
		   <!-- [ Recent Users ] start -->
          <div class="col-xl-6 col-md-6">
              <div class="card Recent-Users">
                  <div class="card-header">
                      <h5>Recent Registrations</h5>
                  </div>
                  <div class="card-body px-0 py-3" style="overflow:auto">
                      <div class="table-responsive">
                          <table class="table table-hover">
                              <tbody id="recentRegisters">
                                 
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
          
          <!-- [ Recent Users ] end -->
		  
		  <!-- Modal Dialog -->
		<div class="modal fade" id="EditModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
		  <div class="modal-dialog modal-dialog-centered" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="editModalLabel">Edit Information</h5> 
		          <span aria-hidden="true">&times;</span>
		        
		      </div>
		      <div class="modal-body">
		        <form>
		          <div class="form-group">
		            <label for="editName">Name</label>
		            <input type="text" class="form-control" id="editName" placeholder="Enter name">
		          </div>
		          <div class="form-group">
		            <label for="editName">UserName</label>
		            <input type="text" class="form-control" id="edituserName" placeholder="Enter name">
		          </div>
		          <div class="form-group">
		            <label for="editName">Password</label>
		            <input type="text" class="form-control" id="editPassword" placeholder="Enter name">
		          </div>
		          <div class="form-group">
		            <label for="editName">Gender</label>
		            <input type="text" class="form-control" id="editGender" placeholder="Enter name">
		          </div>
		          <div class="form-group">
		            <label for="editMobileno">Mobile no</label>
		            <input type="text" class="form-control" id="editMobileno" placeholder="Enter name">
		          </div>
		        </form>
		      </div>
		     <!--  <div class="modal-footer">
		        <button type="button" class="btn btn-secondary close" data-dismiss="modal" onclick='closeModal()'>Close</button>
		        <button type="button" class="btn btn-primary" id="editDetails">Save changes</button>
		      </div>
		      -->
		      <div class="modal-footer d-flex justify-content-between">
				    <!-- Left side: Delete button -->
				    <button type="button" class="btn btn-danger" id="deleteDetails" onclick="reject(this.value)" value="">Delete User ?</button>
				
				    <!-- Right side: Close and Save changes buttons -->
				    <div>
				        <button type="button" class="btn btn-secondary close" data-dismiss="modal" onclick='closeModal()'>Close</button>
				        <button type="button" class="btn btn-primary" id="editDetails">Save changes</button>
				    </div>
				</div>
		    </div>
		  </div>
		</div>
		
				  
          <div class="col-sm-12 col-md-6">
              <div class="card">
               		<div class="card-header">
                      <h5>Users List</h5>
                    </div>
                 <div class="card-body px-0 py-3" style="overflow:auto;height:28vh">
                      <div class="table-responsive">
                          <table class="table table-hover">
                              <thead>
	                              <tr>
	                              	<td>
	                              		Logo
	                              	</td>
	                              	<td>
	                              		Name
	                              	</td>
	                              	<td>
	                              		Username
	                              	</td>
	                              	<td>
	                              		Password
	                              	</td>
	                              	<td>
	                              		Action
	                              	</td>
	                              </tr>
                              </thead>
                              <tbody id="registeredUsers">
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
          <!-- [ statistics year chart ] start -->
           <div class="col-md-12 col-md-6" >
              <div class="card" style="overflow:auto;overflow-y: hidden;padding-top:20px">
				      <h2 style="text-align: center;font-size:23px">Monthly Stock Sold Of Year <span id="todayYear"></span></h2>
				      <div class="chart-container" style="margin-left:0px;">
				        <div id="yAxis"></div>
				        <div class="chart">
				            <div id="barsContainer"></div>
				            <div id="tooltips"></div>
				            <div id="legend"></div>
				        </div>
				    </div>
              </div>
          </div>
      </div>
      </div> 
     </div>
    <!-- [ Main Content ] end -->
    <footer class="pc-footer">
      <div class="footer-wrapper container-fluid">
        <div class="row">
          <div class="col my-0">
            <p class="m-0"
              >Durga &#9829; crafted by Team <a href="mailto:durgapragada204@gmail.com"> durgapragada204@gmail.com</a></p
            >
          </div>
          <div class="col-auto my-1">
            <ul class="list-inline footer-link mb-0">
              <li class="list-inline-item"><a href="Admin">Home</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer> 
    <!-- User status modal start-->
 
  <div class="modal fade" id="UserStatusModal" tabindex="-1" aria-labelledby="UserStatusModalLabel" style="display: none;">
	  <div class="modal-dialog modal-l">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="UserStatusModalLabel">Users Status</h5>
	      </div>
	      <div class="modal-body">
		      <div class="modal-body">
		         
		          <div class="form-group"> 
		          	<table class="table table-responsive">
		          		<thead id="loginedUsersHead">
		          			<tr>
		          				<th>
		          				 Sno
		          				</th>
		          				<th>
		          				  Name
		          				</th>
		          				<th> 
		          				  Username
		          				</th>
		          				<th>
		          					Action
		          				</th>
		          			</tr>
		          		</thead>
		          		<tbody id="LoginedUsers">
		          			
		          		</tbody>
		          	</table>
		          </div> 
		      </div>
		    </div>
		  </div>
		</div>
		</div>
    <!-- User status modal end -->
    <!-- Modal -->
	<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="exampleModalLabel">Change Password</h5>
	        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      </div>
	      <div class="modal-body">
	        <table class="table table-responsive border"  style="border: 2px solid !important ;border-radius:4px; border-collapse: collapse;">
		        <tr>
			        <td>
			          <label for="passLogin" style="color: black;">Password </label>
			        </td>
			        <td>
			          <input type="password" id="passLogin" style="border:0px solid ;border-radius:4px;font-size:18px" placeholder="Password" />
			        </td>
		        </tr>
		        <tr>
			        <td>
			          <label for="cnfpassLogin" style="color: black;">Confirm Password </label>
			        </td>
			        <td>
			          <input type="text" id="cnfpassLogin" style="border:0px solid ;border-radius:4px;font-size:18px" placeholder="Confirm Password" />
			        </td>
		        </tr>
	        </table>
	        <span id="passerrormessg"></span>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" id="savePasswordDetails">Save changes</button>
	      </div>
	    </div>
	  </div>
	</div>
</div>
    <!-- [Page Specific JS] start -->
    <!-- apexcharts js 
    <script src="js/plugins/apexcharts.min.js"></script>-->

    <script src="js/plugins/jsvectormap.min.js"></script>
    <script src="js/plugins/world.js"></script>

    <script src="js/pages/dashboard-default.js"></script>
    <!-- [Page Specific JS] end -->
    <!-- Required Js -->
    <script src="js/plugins/popper.min.js"></script>
    <script src="js/plugins/simplebar.min.js"></script>
    <script src="js/plugins/bootstrap.min.js"></script>
    <script src="js/fonts/custom-font.js"></script>
    <script src="js/pcoded.js"></script>
    <script src="js/plugins/feather.min.js"></script>

    
    
    
    
    <script>layout_change('light');</script>
    
    
    
    
    <script>change_box_container('false');</script>
    
    
    <script>layout_caption_change('true');</script>
    
    
    
    
    <script>layout_rtl_change('false');</script>
    
    
    <script>preset_change("preset-1");</script>
    
    
    <script>layout_theme_sidebar_change('false');</script>
    
    
    <script>
    $(document).ready(function() {
    	$.ajax({
	        url: 'isLoginedIn',  
	        type: 'POST',  
			dataType: 'json',
			contentType: 'application/json',
	        data:JSON.stringify({ "username": "admin"}),
	        success: function(res) {
	            console.log('Data received:', res.data);
	            if(res.data == "success"){
	            	window.location.href = 'Admin';
					}
			//	else window.location.href= 'login';
	        },
	        error: function(textStatus, errorThrown) {
	            console.error('AJAX call failed: ', textStatus, errorThrown);
	        }
	    });
    	//else{
    	$('.content').show();
    	fetchData();
    	registeredUsers();
    	const today = new Date();
    	const currentYear = today.getFullYear();
    	$("#todayYear").text(currentYear);
        function updateProgressBar(percentage) {
            percentage = Math.max(0, Math.min(100, percentage));
            $('.progress-bar').css('width', percentage + '%');
            $('.progress-bar').attr('aria-valuenow', percentage);
        }
        

            var dataValue = 0;
            var remainingval=0;
            $.ajax({
            	url:'getTodayGraph',
            	type:'GET',
        		dataType:'json',
        		contentType:'application/json',
        		success:(res)=>{
        			var tt=document.getElementById("totaltodaybagsBar");
        			let totalValue = 0;
        	        Object.values(res).forEach(value => {
        	            totalValue += Number(value);
        	        });
        	        $(".totaltodaybags").html('<i class="feather icon-arrow-up text-success f-30 m-r-10"></i> ' + totalValue+' Bags');
        			tt.innerHTML='';
		            if(totalValue!=0){
	        			Object.entries(res).forEach(([key, value]) => {
	        				var numericValue = Number(value);
	        	            var width = totalValue > 0 ? (numericValue / totalValue) * 100 : 0;
	        	            width=parseInt(width);
	        	            dataValue+=width;
	        	            value=parseInt(value);
	     				    tt.innerHTML+='<div class="progress-bar bg-brand-color-1" role="progressbar" style="width:'+width+'%" aria-valuenow='+value+' aria-valuemin="0" aria-valuemax="100">' +key+" : "+value+'<div id="tooltip">'+width+'</div> </div>';
	        			
	        			});
		            	$("#todayper").text(dataValue+"%");
		            }
		            else {
		            	tt.innerHTML+='<p style="font-size:17px;font-weight:bolder">No Loadings Today</p>'
		            	tt.classList.remove("progress")
		            	}
        		},
        		error:(ee,err)=>{
        			console.log(err)
        		}
            })
            
            $.ajax({
            	url:'getRemainingStock',
            	type:'GET',
            	dataType:'json',
        		contentType:'application/json',
        		success:(res)=>{
        			var tt=document.getElementById("remainingStockbar");
        			let totalValue = 0;
        	        Object.values(res).forEach(value => {
        	            totalValue += Number(value);
        	        });
        	        $(".remainingStockbags").html('<i class="feather icon-arrow-down text-danger f-30 m-r-10"></i> ' + totalValue+' Bags');
        			tt.innerHTML='';
		            if(totalValue!=0){
	        			Object.entries(res).forEach(([key, value]) => {
	        				var numericValue = Number(value);
	        	            var width = totalValue > 0 ? (numericValue / totalValue) * 100 : 0;
	        	            width=parseInt(width);
	        	            remainingval+=width;
	        	            value=parseInt(value);
	     				    tt.innerHTML+='<div class="progress-bar bg-brand-color-2" role="progressbar" style="width:'+width+'%" aria-valuenow='+value+' aria-valuemin="0" aria-valuemax="100">' +key+" : "+value+'<div id="tooltip">'+width+'%</div> </div>';
	     				    
	        			});
		            }
		            else {
		            	tt.innerHTML+='<p style="font-size:17px;font-weight:bolder">No Stock Left</p>'
		            	tt.classList.remove("progress-bar")
		            	}
		           
        		},
        		error:(ee,err)=>{
        			console.log(err)
        		}
        		
        		
            });
            
            $.ajax({
            	url:'totalloadings',
            	type:'GET',
            	dataType:'json',
            	contentType:'application/json',
            	success:(res)=>{
            		var xlabels=Object.keys(res);
		        	var ylabels=Object.values(res);
		        	//var colors = ['#FF0000', '#0000FF', '#FFFF00', '#008000', '#FFA500', '#808080', '#000000', '#800080', '#FFC0CB', '#A52A2A', '#00FFFF', '#FF00FF', '#00FF00', '#808000', '#000080', '#008080', '#800000', '#C0C0C0', '#FFD700', '#EE82EE', '#4B0082', '#FF7F50'];
		        	const colors = [
		        	    '#4a90e2',  // Blue
		        	    '#50C878',  // Emerald Green
		        	    '#FF7F50',  // Coral
		        	    '#9370DB',  // Medium Purple
		        	    '#FFD700',  // Gold
		        	    '#FF6B6B',  // Salmon Pink
		        	    '#4CAF50',  // Material Green
		        	    '#9C27B0',  // Purple
		        	    '#FF9800',  // Orange
		        	    '#00BCD4'   // Cyan
		        	];
		        	new Chart("myChart", {
		        	    type: "doughnut",
		        	    data: {
		        	        labels: xlabels,
		        	        datasets: [{
		        	            backgroundColor: colors,
		        	            data: ylabels
		        	        }]
		        	    },
		        	    options: {
		        	        responsive: true,
		        	        title: {
			        		      display: true,
			        		      text: "Total Stock Sold IN "+getCurrentMonthAndYear()
			        		    }
		        	    }
		        	});
		        	var legendDiv = document.getElementById("chart-legend");
		        	legendDiv.style.display = "flex"; // Set parent div to flex
		        	legendDiv.style.flexWrap = "nowrap"; // Ensure all items are in a single row
		        	legendDiv.style.overflowX = "auto"; // Add horizontal scroll if needed
		        	legendDiv.style.alignItems = "center"; // Align items vertically in the center

		        	ylabels.forEach((label, index) => {
		        	    var legendItem = document.createElement("div");
		        	    legendItem.style.display = "flex";
		        	    legendItem.style.alignItems = "center";
		        	    legendItem.style.marginRight = "15px"; // Space between items
		        	     
		        	    var colorBox = document.createElement("span");
		        	    colorBox.style.backgroundColor = colors[index];
		        	    colorBox.style.width = "20px";
		        	    colorBox.style.height = "20px";
		        	    colorBox.style.marginRight = "5px";
		        	    colorBox.style.border = "1px solid #ccc";

		        	    var labelText = document.createElement("span");
		        	    labelText.textContent =parseInt(label)+'';
		        	    
		        	    legendItem.appendChild(colorBox);
		        	    legendItem.appendChild(labelText);
		        	    legendDiv.appendChild(legendItem);
		        	});

        		},
        		error:(ee,err)=>{
        			console.log(err)
        		}
            });
            
            $.ajax({
            	url:'yearilyloadings',
            	dataType:'json',
            	type:"GET",
            	success:(res)=>{
            		//res = JSON.stringify(res);
						const output = Array.from({ length: 12 }, () => ({}));
						for (const [key, indexStr] of Object.entries(res)) {
						  const [name, value] = key.split(" - ");
						  
						  if (!name || value === undefined) {
						    //console.error(`Invalid key format for ${key}: expected 'name - value' format.`);
						    continue; 
						  }
						
						  const index = parseInt(indexStr) - 1;  
						  
						  const parsedValue = parseFloat(value);
						  if (isNaN(parsedValue)) {
						    console.error(`Invalid number for ${key}: ${value}`);
						    continue;  // Skip if value is not a valid number
						  }
						
						  if (index >= 0 && index < output.length) {
						    output[index][name] = parsedValue;
						  } else {
						    console.error("Index out of bounds:", index);
						  }
						}
						
						for (let i = 0; i < output.length; i++) {
						  if (Object.keys(output[i]).length === 0) {
						    output[i] = { "1156": 0 };
						  }
						}

            		const colors = [
                        '#4a90e2',  // Blue
                        '#50C878',  // Emerald Green
                        '#FF7F50',  // Coral
                        '#9370DB',  // Medium Purple
                        '#FFD700',  // Gold
                        '#FF6B6B',  // Salmon Pink
                        '#4CAF50',  // Material Green
                        '#9C27B0',  // Purple
                        '#FF9800',  // Orange
                        '#00BCD4'   // Cyan
                    ];

                    const responseData = []; 
                    const monthIndex1 = new Date().getMonth();
                    responseData[monthIndex1] = res;
                    updateChart(output);
                    
                    
                    function createVerticalChart(data) {
                        const barsContainer = document.getElementById('barsContainer');
                        const legendContainer = document.getElementById('legend');
                        const yAxis = document.getElementById('yAxis');
                        const tooltip = document.getElementById('tooltips');
                        
                        // Clear previous content
                        barsContainer.innerHTML = '';
                        legendContainer.innerHTML = '';
                        yAxis.innerHTML = '';
                        
                        // Get all unique categories
                        const categories = new Set();
                        data.forEach(response => {
                            Object.keys(response).forEach(category => categories.add(category));
                        });
                        
                        // Create color mapping
                        const colorMap = {};
                        Array.from(categories).forEach((category, index) => {
                            colorMap[category] = colors[index % colors.length];
                        });
                        
                        // Create legend
                        categories.forEach(category => {
                            const legendItem = document.createElement('div');
                            legendItem.className = 'legend-item';
                            
                            const colorBox = document.createElement('div');
                            colorBox.className = 'color-box';
                            colorBox.style.backgroundColor = colorMap[category];
                            
                            const label = document.createElement('span');
                            label.textContent = category;
                            
                            legendItem.appendChild(colorBox);
                            legendItem.appendChild(label);
                            legendContainer.appendChild(legendItem);
                        });
                        
                       
                         const maxValue = data.reduce((max, response) => {
					        const responseMax = Math.max(...Object.values(response));
					        return Math.max(max, responseMax);
					    }, 0);
                        // Create y-axis labels
                        const yAxisSteps = 5;
                        for (let i = yAxisSteps; i >= 0; i--) {
                            const label = document.createElement('div');
                            label.className = 'y-axis-label';
                            label.textContent = Math.round(maxValue * i / yAxisSteps);
                            yAxis.appendChild(label);
                        }
                        
                        // Create month groups with bars
                        data.forEach((response, monthIndex) => {
                            const monthGroup = document.createElement('div');
                            monthGroup.className = 'month-group';
                            
                            // Create bars for each category
                            Object.entries(response).forEach(([category, value]) => {
                                const barWrapper = document.createElement('div');
                                barWrapper.className = 'bar-wrapper';
                                const bar = document.createElement('div');
                                bar.className = 'bar';
                                const height = (value / maxValue) * 400; // 400px is max height
                                bar.style.height = height+'px'; 
                                bar.style.backgroundColor = colorMap[category];
                                
                                // Tooltip event listeners
                                bar.addEventListener('mouseover', (e) => {
                                    tooltip.style.display = 'block';
                                    tooltip.textContent = value; 
                                    console.log(tooltip.textContent)
                                    tooltip.style.left = e.pageX + 10+'px';
                                    tooltip.style.top = e.pageY - 25+'px';
                                });
                                
                                bar.addEventListener('mousemove', (e) => {
                                    tooltip.style.left = e.pageX + 10+'px';
                                    tooltip.style.top = e.pageY - 25+'px';
                                });
                                
                                bar.addEventListener('mouseout', () => {
                                    tooltip.style.display = 'none';
                                });
                                
                                barWrapper.appendChild(bar);
                                
                                const months = [
                                    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
                                ];

                                // Add month label to the first bar of each group
                                if (Object.keys(response)[0] === category) {
                                    const monthLabel = document.createElement('div');
                                    monthLabel.className = 'month-label';
                                    monthLabel.textContent = months[monthIndex];
                                    barWrapper.appendChild(monthLabel);
	                                
                                }
                                
                                monthGroup.appendChild(barWrapper);
                            });
                            
                            barsContainer.appendChild(monthGroup);
                        });
                    }
                    // Initialize chart with sample data
                    //createVerticalChart(responseData);

                    // Function to update chart with new data
                    function updateChart(newData) {
                        createVerticalChart(newData);
                    }
            	}
            	
            })
            
           
    	//}      
    });
	
    // this is for recent Registrations
    function getCurrentMonthAndYear() {
    const date = new Date();
    const monthName = date.toLocaleString('default', { month: 'long' });
    const yearNumber = date.getFullYear();

    return monthName+" "+yearNumber;
	}

    function fetchData() {
   // const tbody = document.getElementById("recentRegisters");
    	  $.ajax({
    	    url: "RecentUsers", 
    	    method: "GET",
    	    dataType: "json",
    	    success: function (data) {
    	     var d=JSON.stringify(data); 
    	    	//data = Array.from(data);
    	      const tbody = $("#recentRegisters");  
    	      tbody.empty();  

    	      if (data) {
    	    	    const tbody = $("#recentRegisters"); 
    	    	    tbody.empty();  

    	    	    data.forEach((obj,i) => {
    	    	        const imageSrc1 = "images/user/avatar-2.jpg"; // Male image
    	    	        const imageSrc2 = "images/user/avatar-1.jpg"; // Female image
    	    	        const imgSrc = obj.gender.toLowerCase() === 'male' ? imageSrc1 : imageSrc2; // Gender-based image selection
    	    	        const dateColor = i%2 ===0 ? "fas fa-circle text-success f-10 m-r-15" : "fas fa-circle text-danger f-10 m-r-15";

    	    	        
    	    	        const row = `
    	    	            <tr class="unread">
    	    	                <td><img class="rounded-circle" style="width:40px;" src="${imgSrc}" alt="activity-user"></td>
    	    	                <td>
    	    	                    <h6 class="mb-1" style="text-transform:capitalize">${obj.name}</h6>
    	    	                    <p class="m-0">${obj.gender}</p>
    	    	                </td>
    	    	                <td>
    	    	                    <h6 class="text-muted"><i class="${dateColor}"></i>${obj.date}</h6>
    	    	                </td>
    	    	                <td>
    	    	                    <span class="badge me-2 bg-brand-color-2 text-white f-12" style="cursor:pointer" onclick="reject('${obj.username}')">Reject</span>
    	    	                    <span class="badge me-2 bg-brand-color-1 text-white f-12" style="cursor:pointer" onclick="accept('${obj.username}')">Approve</span>
    	    	                </td>
    	    	            </tr>
    	    	        `;

    	    	        
    	    	        tbody.append(row);
    	    	    });
    	    	}
				 else {
    	        const noDataRow = `
    	          <tr>
    	            <td colspan="6">
    	              <p style="text-align:center;">No data found</p>
    	            </td>
    	          </tr>
    	        `;
    	        tbody.append(noDataRow);
    	      }
    	    },
    	    error: function (xhr, status, error) {
    	      console.error("Error fetching data:", error);
    	    },
    	  });
    	}
      
    function registeredUsers()
    {
    	 fetch('registeredUsers', {  
    	        method: 'GET',
    	        headers: {
    	            'Content-Type': 'application/json',
    	        },
    	    })
    	    .then((response) => {
    	        if (!response.ok) {
    	            throw new Error(`HTTP error! Status: ${response.status}`);
    	        }
    	        return response.json();
    	    })
    	    .then((data) => {
    	    	const tableBody = document.getElementById("registeredUsers"); // The tbody element
    	        tableBody.innerHTML = ""; // Clear existing rows

    	        Array.from(data).forEach((obj, i) => { 
    	            const imgSrc = obj.gender.trim().toLowerCase() === "male" 
    	                ? "images/user/avatar-2.jpg" 
    	                : "images/user/avatar-1.jpg";
    	            const dateColor = i%2 ===0 ? "fas fa-circle text-success f-10 m-r-15" : "fas fa-circle text-danger f-10 m-r-15";

    	            const row = `
    	                <tr class="unread">
    	                    <td><img class="rounded-circle" style="width:40px;" src="${imgSrc}" alt="activity-user"></td>
    	                    <td>
    	                        <h6 class="mb-1" style="text-transform:capitalize">${obj.name}</h6>
    	                        <p class="m-0">${obj.gender}</p>
    	                    </td>
    	                    <td>
    	                        <h6 class="text-muted"><i class="${dateColor}"></i>${obj.username}</h6>
    	                    </td>
    	                    <td>
    	                   		<h6 class="text-muted">${obj.password}</h6>
    	                    </td>
    	                    <td>
    	                       <span class="badge me-2 bg-brand-color-1 text-white f-12" style="cursor:pointer" data-bs-toggle="modal" data-bs-target="#EditModal" onclick="edituserdetails('${obj.name}','${obj.username}','${obj.password}','${obj.gender}','${obj.mobileno}')">Edit</span>
    	                    </td>
    	                </tr>
    	            `;

    	            tableBody.innerHTML += row;  
    	        });
    	    })
    	    .catch((error) => {
    	        console.error("Error fetching table data:", error);
    	    });
    }
	function accept(user)
	{
		fetch('acceptadmin',{
			method:'POST',
			headers:{
				'Content-Type':'application/json'
			},
			body:JSON.stringify({'user':user})
		}).then(res=>{
			fetchData();
			if(!res.ok)
				throw new Error('Response invalid')
			return res.text()
		}).then(d=>window.location.href='Admin').catch(e=>console.error(e))
	}
	
	function reject(user)
	{
		if (confirm("Are you sure you want to delete this User?")){
			fetch('rejectadmin',{
				method:'POST',
				headers:{
					'Content-Type':'application/json'
				},
				body:JSON.stringify({'user':user})
			}).then(res=>{
				fetchData();
				if(!res.ok)
					throw new Error('Response invalid')
				return res.text()
			}).then(d=>window.location.href='Admin').catch(e=>console.error(e))	
		}
	}
	
	$("#sidebar-hide").click(()=>{
		$("#logomenu").toggle();
	})
	
	function edituserdetails(name,username,password,gender,mobile)
	{
		$("#editName").val(name);
		$("#edituserName").val(username);
		$("#editPassword").val(password);
		$("#editGender").val(gender);
		$("#editMobileno").val(mobile);
		$("#deleteDetails").val(username);
		console.log(name,username,password,mobile);
	}
	
	$("#editDetails").click(()=>{
		let name=$("#editName").val();
		let username=$("#edituserName").val();
		let password=$("#editPassword").val();
		let gender=$("#editGender").val();
		let mobile=$("#editMobileno").val();
		
		var jsondb={
				'name':name,
				'username':username,
				'password':password,
				'gender':gender,
				'mobile':mobile
		}
		console.log(jsondb);
		$.ajax({
			url:'saveEditDetails',
			data:JSON.stringify(jsondb),
			type:'POST',
			contentType:'application/json',
			success:(data)=>{
				closeModal();
				registeredUsers(); 
			},
			error:(status,messg)=>{
				console.error(messg);
			}
		})
	})
	
	function closeModal(){
		let edit=$("#EditModal");
		//$('.modal-backdrop').removeClass('show');
		
		 let modal = $(".modal-backdrop");
		    
		    if (modal.hasClass('show')) {
		    	edit.removeClass('show');
		    	edit.css("display","none");
		        modal.removeClass('show');
		        modal.remove();
		    } else {
		        body.append("<div class='modal-backdrop fade'></div>");
		    	edit.addClass('show');
		        modal.addClass('show'); 
		    }
		    window.location.href='Admin';
	}
	
	$("#savePasswordDetails").on('click',()=>{
		var pass=$("#passLogin").val();
		var confpass=$("#cnfpassLogin").val();
		if (!pass || !confpass) {
		    $("#passerrormessg").text("Please fill in both password fields.");
		    $("#passerrormessg").css("color", "red");
		    return; // Exit the function early
		}
		var json={
				'pass':pass,
				'conf':confpass,
				'user':'admin'
		}
	  if(pass == confpass){
		  $("#passerrormessg").text("Passwords matched ");
		  $("#passerrormessg").css("color","green");
		  setTimeout(()=>{
			  $.ajax({
				url:'saveAdminPassword',
				data:JSON.stringify(json),
				type:'POST',
				contentType:'application/json',
				success:(res)=>{
					$("#passerrormessg").text("Password saved successfully").css("color", "blue");
					window.location.href='login';
				},
				error:()=>{
					console.log("error response ");
					 $("#passerrormessg").text("An error occurred: " + errorThrown).css("color", "red");
				}
			})
		  },2000);
	  }
	  else {
		  $("#passerrormessg").text("Both passwords should match");
		  $("#passerrormessg").css("color","red");
	  }
	})
	
	$("#LoggedUsers").click(()=>{ 
		loginedUsers();
	});
		function loginedUsers(){
		$.ajax({
			url:'loginedUsers',
			type:'GET',
			contentType:'application/json',
			success:(res)=>{ 
				 var body=document.getElementById("LoginedUsers");
				 body.innerHTML='';
				 var i=0;
				if(res.length>0){ 
					 $("#loginedUsersHead").html('<tr>' +
							    '    <th>Sno</th>' +
							    '    <th>Name</th>' +
							    '    <th>Username</th>' +
							    '    <th>Action</th>' +
							    '</tr>');
				 res.forEach(d=>{
					 i++;
	                	sessionStorage.setItem(d.username,"yes");
					 var row=`<tr>
					      <td>${i}</td>
	                      <td>${d.name}</td>
	                      <td>${d.username}</td>
	                      <td><button class="btn btn-outline-danger" onclick="logout('${d.username}')">Force Logout</button></td>
	                  </tr>`;
					 body.innerHTML+=row ;
				 });
				}
				 else{  
					 $("#loginedUsersHead").html('');
					 body.innerHTML = '<tr><td colspan="3">No logged-in users available.</td></tr>';
				 }
				 
			},
			error:()=>{
				 
			}
		});
	}
	
	function logout(username)
	{
		sessionStorage.setItem(username,"no");
		$.ajax({
			url:'logoutUsers',
			type:'POST',
			contentType:'application/json',
			data:JSON.stringify({"username":username}),
			success:(res)=>{
				loginedUsers();
			},
			error:()=>{
				 
			}
		})
	}
	
    </script>
    
    
    
    
    
    
  </body>
  <!-- [Body] end -->
</html>
